{"ast":null,"code":"var _jsxFileName = \"/Users/czr/Documents/dev_/proyectoFianl-LP/proyecto_programacion/src/pantallas/MainScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Box, Typography, Button } from '@mui/material';\nimport Card from '../components/Card';\nimport Navbar from '../components/Navbar'; // Importar Navbar\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MainScreen = () => {\n  _s();\n  const [recipes, setRecipes] = useState([]);\n  const [error, setError] = useState(null);\n  const [showMessage, setShowMessage] = useState(true); // Estado para controlar la visibilidad del mensaje\n  const navigate = useNavigate(); // Hook para navegar a otras rutas\n\n  useEffect(() => {\n    const fetchRecipes = async () => {\n      try {\n        const response = await axios.get('http://localhost:4000/feedRecipes');\n        setRecipes(response.data.recipes);\n      } catch (err) {\n        setError('Error fetching recipes');\n        console.error(err);\n      }\n    };\n    fetchRecipes();\n  }, []);\n  const getRandomSize = () => {\n    const sizes = ['large', 'medium', 'small'];\n    return sizes[Math.floor(Math.random() * sizes.length)];\n  };\n  const getRandomImage = imagesString => {\n    const imagesArray = JSON.parse(imagesString.replace(/'/g, '\"'));\n    return imagesArray.length > 0 ? imagesArray[Math.floor(Math.random() * imagesArray.length)] : 'default-image-url.jpg';\n  };\n  const getFirstSentence = description => {\n    const sentenceEndings = /[.!?]/;\n    const firstSentence = description.split(sentenceEndings)[0];\n    return firstSentence.trim() + (firstSentence ? '.' : '');\n  };\n\n  // Manejar el scroll para ocultar el mensaje\n  useEffect(() => {\n    const handleScroll = () => {\n      if (window.scrollY > 50) {\n        // Cambia 50 por el valor que desees\n        setShowMessage(false);\n      } else {\n        setShowMessage(true);\n      }\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll); // Limpiar el evento al desmontar\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    p: 2,\n    style: {\n      overflowY: 'auto',\n      maxHeight: '100%',\n      paddingBottom: '60px'\n    },\n    children: [\" \", showMessage && /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h3\",\n      style: {\n        marginBottom: '16px',\n        // Espacio entre el mensaje y la primera tarjeta\n        padding: '8px 16px',\n        zIndex: 1000,\n        color: 'white',\n        fontWeight: 'bold',\n        fontFamily: 'Roboto, sans-serif'\n      },\n      children: \"\\xA1Hola! \\xBFQu\\xE9 cocinaremos hoy?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      children: \"Ha surgido un problema al cargar las recetas :c\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this), recipes.map(recipe => /*#__PURE__*/_jsxDEV(Card, {\n      title: recipe.Name,\n      content: getFirstSentence(recipe.Description),\n      size: getRandomSize(),\n      image: getRandomImage(recipe.Images),\n      id: recipe.id\n    }, recipe.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => navigate('/profile'),\n      style: {\n        marginTop: '16px'\n      },\n      children: \"Ir al Perfil\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(MainScreen, \"QGsnIfCpNEUKmkqfQLr28MioyPI=\", false, function () {\n  return [useNavigate];\n});\n_c = MainScreen;\nexport default MainScreen;\nvar _c;\n$RefreshReg$(_c, \"MainScreen\");","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","Button","Card","Navbar","axios","useNavigate","jsxDEV","_jsxDEV","MainScreen","_s","recipes","setRecipes","error","setError","showMessage","setShowMessage","navigate","fetchRecipes","response","get","data","err","console","getRandomSize","sizes","Math","floor","random","length","getRandomImage","imagesString","imagesArray","JSON","parse","replace","getFirstSentence","description","sentenceEndings","firstSentence","split","trim","handleScroll","window","scrollY","addEventListener","removeEventListener","p","style","overflowY","maxHeight","paddingBottom","children","variant","marginBottom","padding","zIndex","color","fontWeight","fontFamily","fileName","_jsxFileName","lineNumber","columnNumber","map","recipe","title","Name","content","Description","size","image","Images","id","onClick","marginTop","_c","$RefreshReg$"],"sources":["/Users/czr/Documents/dev_/proyectoFianl-LP/proyecto_programacion/src/pantallas/MainScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Box, Typography, Button } from '@mui/material';\nimport Card from '../components/Card';\nimport Navbar from '../components/Navbar'; // Importar Navbar\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst MainScreen = () => {\n  const [recipes, setRecipes] = useState([]);\n  const [error, setError] = useState(null);\n  const [showMessage, setShowMessage] = useState(true); // Estado para controlar la visibilidad del mensaje\n  const navigate = useNavigate(); // Hook para navegar a otras rutas\n\n  useEffect(() => {\n    const fetchRecipes = async () => {\n      try {\n        const response = await axios.get('http://localhost:4000/feedRecipes');\n        setRecipes(response.data.recipes); \n      } catch (err) {\n        setError('Error fetching recipes');\n        console.error(err);\n      }\n    };\n\n    fetchRecipes();\n  }, []);\n\n  const getRandomSize = () => {\n    const sizes = ['large', 'medium', 'small'];\n    return sizes[Math.floor(Math.random() * sizes.length)];\n  };\n\n  const getRandomImage = (imagesString) => {\n    const imagesArray = JSON.parse(imagesString.replace(/'/g, '\"')); \n    return imagesArray.length > 0 ? imagesArray[Math.floor(Math.random() * imagesArray.length)] : 'default-image-url.jpg';\n  };\n\n  const getFirstSentence = (description) => {\n    const sentenceEndings = /[.!?]/; \n    const firstSentence = description.split(sentenceEndings)[0];\n    return firstSentence.trim() + (firstSentence ? '.' : ''); \n  };\n\n  // Manejar el scroll para ocultar el mensaje\n  useEffect(() => {\n    const handleScroll = () => {\n      if (window.scrollY > 50) { // Cambia 50 por el valor que desees\n        setShowMessage(false);\n      } else {\n        setShowMessage(true);\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll); // Limpiar el evento al desmontar\n  }, []);\n\n  return (\n    <Box p={2} style={{ overflowY: 'auto', maxHeight: '100%', paddingBottom: '60px' }}> {/* Agregar padding para el navbar */}\n      {showMessage && (\n        <Typography \n          variant=\"h3\" \n          style={{ \n            marginBottom: '16px', // Espacio entre el mensaje y la primera tarjeta\n            padding: '8px 16px', \n            zIndex: 1000,\n            color: 'white', \n            fontWeight: 'bold', \n            fontFamily: 'Roboto, sans-serif',\n          }}\n        >\n           ¡Hola! ¿Qué cocinaremos hoy?\n        </Typography>\n      )}\n      {error && <Typography variant=\"h5\">Ha surgido un problema al cargar las recetas :c</Typography>}\n      {recipes.map((recipe) => (\n        <Card\n          key={recipe.id}\n          title={recipe.Name} \n          content={getFirstSentence(recipe.Description)} \n          size={getRandomSize()}\n          image={getRandomImage(recipe.Images)} \n          id={recipe.id}\n        />\n      ))}\n      {/* Botón para ir a la pantalla de perfil */}\n      <Button variant=\"contained\" color=\"primary\" onClick={() => navigate('/profile')} style={{ marginTop: '16px' }}>\n        Ir al Perfil\n      </Button>\n      <Navbar /> {/* Agregar el componente Navbar aquí */}\n    </Box>\n  );\n};\n\nexport default MainScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}